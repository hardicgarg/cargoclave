@import "tailwindcss";

:root {
  --app-scale: 0.75;
  /* Unitless multiplier, e.g., 0.8 for 80% */
}

html {
  font-size: calc(var(--app-scale) * 16px);
}

@theme {
  --color-border: #E2E8F0;
  --color-appborder: #E2E8F0;
  --color-input: #E2E8F0;
  --color-ring: #2563EB;
  --color-background: #F8FAFC;
  --color-foreground: #0F172A;

  --color-primary: #2563EB;
  --color-primary-foreground: #FFFFFF;

  --color-secondary: #64748B;
  --color-secondary-foreground: #FFFFFF;

  --color-accent: #059669;
  --color-accent-foreground: #FFFFFF;

  --color-destructive: #EF4444;
  --color-destructive-foreground: #FFFFFF;

  --color-success: #10B981;
  --color-success-foreground: #FFFFFF;

  --color-warning: #F59E0B;
  --color-warning-foreground: #FFFFFF;

  --color-error: #EF4444;
  --color-error-foreground: #FFFFFF;

  --color-muted: #F1F5F9;
  --color-muted-foreground: #475569;

  --color-card: #FFFFFF;
  --color-card-foreground: #0F172A;

  --color-popover: #FFFFFF;
  --color-popover-foreground: #0F172A;

  /* Spacing - Switched to rem for proportional scaling */
  --spacing-sidebar: 15rem;
  /* 240px / 16 */
  --spacing-sidebar-collapsed: 3.75rem;
  /* 60px / 16 */

  /* Transitions */
  --duration-fast: 150ms;
  --duration-normal: 300ms;

  /* Shadows */
  --shadow-soft: 0 1px 3px rgba(0, 0, 0, 0.1);
  --shadow-elevated: 0 10px 25px rgba(0, 0, 0, 0.15);

  /* Z-Index */
  --z-sidebar: 1000;
  --z-dropdown: 1100;
  --z-overlay: 1200;
}

@layer base {
  * {
    box-sizing: border-box;
    line-height: normal;
    font-family: inherit;
    margin: unset;
  }

  body {
    @apply bg-background text-foreground;
    margin: 0;
    padding: 0;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: 'Inter', sans-serif;
  }

  code,
  pre,
  .font-mono {
    font-family: 'JetBrains Mono', monospace;
  }
}

.dark {
  --color-primary: #3B82F6;
  --color-primary-foreground: #FFFFFF;
  --color-secondary: #475569;
  --color-secondary-foreground: #F1F5F9;
  --color-accent: #10B981;
  --color-accent-foreground: #FFFFFF;
  --color-background: #0F172A;
  --color-foreground: #F8FAFC;
  --color-card: #1E293B;
  --color-card-foreground: #F8FAFC;
  --color-popover: #1E293B;
  --color-popover-foreground: #F8FAFC;
  --color-muted: #334155;
  --color-muted-foreground: #94A3B8;
  --color-border: #334155;
  --color-appborder: #334155;
  --color-input: #334155;
  --color-ring: #3B82F6;
  --color-success: #10B981;
  --color-success-foreground: #FFFFFF;
  --color-warning: #F59E0B;
  --color-warning-foreground: #0F172A;
  --color-error: #EF4444;
  --color-error-foreground: #FFFFFF;
  --color-destructive: #EF4444;
  --color-destructive-foreground: #FFFFFF;
}

@layer components {

  /* Sidebar Styles */
  .sidebar {
    @apply fixed top-0 left-0 h-full bg-card border-r border-appborder z-[1000] flex flex-col;
    @apply transition-all duration-300 ease-out;
    width: var(--spacing-sidebar);
  }

  .sidebar.collapsed {
    width: var(--spacing-sidebar-collapsed);
  }

  .sidebar-header {
    @apply flex items-center justify-center h-16 border-b border-appborder p-4;
    @apply transition-all duration-300;
  }

  .sidebar-logo {
    @apply flex items-center justify-center w-12 h-12 rounded-lg bg-primary text-primary-foreground transition-all duration-300;
  }

  .sidebar.collapsed .sidebar-logo {
    @apply w-10 h-10;
  }

  .sidebar-logo-text {
    @apply ml-3 text-lg font-semibold text-foreground transition-opacity duration-300;
  }

  .sidebar.collapsed .sidebar-logo-text {
    @apply opacity-0 w-0 overflow-hidden hidden;
  }

  /* Navigation Item Styles */
  .nav-item {
    @apply flex items-center px-4 py-3 mx-2 my-1 rounded-lg text-muted-foreground hover:bg-muted hover:text-foreground transition-all duration-150 ease-out cursor-pointer relative;
  }

  .nav-item.active {
    @apply text-primary font-medium border-l-4 border-primary ml-0 pl-3;
  }

  .nav-item:hover {
    @apply shadow-sm;
  }

  .sidebar.collapsed .nav-item {
    @apply justify-center px-2;
  }

  .nav-item-icon {
    @apply flex-shrink-0 transition-all duration-150;
  }

  .nav-item-label {
    @apply ml-3 transition-opacity duration-300 whitespace-nowrap;
  }

  .sidebar.collapsed .nav-item-label {
    @apply opacity-0 w-0 overflow-hidden hidden;
  }

  /* Navigation Group Styles */
  .nav-group {
    @apply mt-6 mb-2;
  }

  .nav-group-title-wrapper {
    @apply flex items-center justify-between px-4 py-2 cursor-pointer rounded-lg mx-2 transition-all duration-150;
  }

  .nav-group-title {
    @apply text-xs font-semibold text-muted-foreground uppercase tracking-wider transition-opacity duration-300;
  }

  .nav-group-toggle {
    @apply text-muted-foreground transition-transform duration-150;
  }

  .sidebar.collapsed .nav-group-title {
    @apply text-center w-full opacity-0 h-0 overflow-hidden py-0;
  }

  .sidebar.collapsed .nav-group-title-wrapper {
    @apply justify-center cursor-default hover:bg-transparent;
  }

  .sidebar.collapsed .nav-group-toggle {
    @apply hidden;
  }

  /* User Profile Dropdown Styles */
  .user-profile {
    @apply absolute bottom-0 left-0 right-0 border-t border-appborder bg-card p-4 transition-all duration-300;
  }

  .user-profile-trigger {
    @apply flex items-center w-full p-2 rounded-lg hover:bg-muted transition-all duration-150 cursor-pointer;
  }

  .user-avatar {
    @apply w-10 h-10 rounded-full flex items-center justify-center text-primary font-semibold flex-shrink-0;
  }

  .user-info {
    @apply ml-3 flex-1 transition-opacity duration-300;
  }

  .sidebar.collapsed .user-info {
    @apply opacity-0 w-0 overflow-hidden;
  }

  .user-name {
    @apply text-sm font-medium text-foreground;
  }

  .user-role {
    @apply text-xs text-muted-foreground;
  }

  /* Breadcrumb Styles */
  .breadcrumb {
    @apply flex items-center space-x-2 text-sm text-muted-foreground py-4 px-6 bg-card border-b border-appborder;
  }

  .breadcrumb-item {
    @apply flex items-center hover:text-foreground transition-colors duration-150;
  }

  .breadcrumb-separator {
    @apply mx-2 text-muted-foreground;
  }

  .breadcrumb-current {
    @apply text-foreground font-medium;
  }

  /* Main Content Layout */
  .main-content {
    @apply transition-all duration-300 ease-out;
    margin-left: var(--spacing-sidebar);
  }

  .main-content.sidebar-collapsed {
    margin-left: var(--spacing-sidebar-collapsed);
  }

  /* Mobile Menu Button */
  .mobile-menu-button {
    @apply fixed top-4 left-4 z-50 lg:hidden w-10 h-10 rounded-lg bg-card border border-appborder flex items-center justify-center hover:bg-muted transition-all duration-150 shadow-lg;
  }

  /* Mobile Overlay */
  .mobile-overlay {
    @apply fixed inset-0 bg-black/50 z-[999] lg:hidden transition-opacity duration-300;
  }

  /* Tooltip Styles */
  .tooltip {
    @apply absolute left-full ml-2 px-3 py-2 rounded-lg bg-popover text-popover-foreground text-sm shadow-lg border border-appborder opacity-0 invisible transition-all duration-150 whitespace-nowrap z-[1100] pointer-events-none;
  }

  .nav-item:hover .tooltip {
    @apply opacity-100 visible;
  }

  /* Animation Utilities */
  .animate-fade-in {
    animation: fadeIn var(--duration-normal) ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-4px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-slide-in {
    animation: slideIn var(--duration-normal) ease-out;
  }

  @keyframes slideIn {
    from {
      transform: translateX(-100%);
    }

    to {
      transform: translateX(0);
    }
  }

  /* Scrollbar Styles */
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    @apply bg-muted rounded-full;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}